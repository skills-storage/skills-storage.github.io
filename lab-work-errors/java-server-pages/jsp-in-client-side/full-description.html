<p>
    Итак, в кратком описании, мы выяснили, что ваши JSP расположены, в клиентской части приложения.
    То есть, структура вашего приложения может выглядеть, например, вот так:
</p>

<img alt="jsp-in-client-part" src="./images/jsp-in-client-part.png" class="article_image" />

<p>
    Причин, по которым вы читаете текст этой ошибки, всего две, и, раз вы приступили к выполнению заданий по теме JSP,
    то эти причины уже должны быть вам хорошо известны.
</p>

<p class="argument_header">
    <span class="argument_header_begin">Первая причина</span> заключается в том, что
</p>

<div class="note_box danger_box">
    <p>
        Все элементы клиентской части доступны по прямым URL-ам
    </p>
</div>

<p>
    Это означает, что в приложении, которое приведено на рисунке выше, пользователь спокойно может ввести URL-ы типа:
</p>

<ul>
    <li><a href="#">http://localhost:8080/jsp-app/index.jsp</a></li>
    <li><a href="#">http://localhost:8080/jsp-app/login.jsp</a></li>
    <li><a href="#">http://localhost:8080/jsp-app/profile.jsp</a></li>
    <li><a href="#">http://localhost:8080/jsp-app/add_product.jsp</a></li>
    <li>И так далее</li>
</ul>

<p>и получить доступ к любой странице.</p>

<p>
    Что, естественно, является неверным, потому что у вашего приложения есть бизнес логика, которая определяет,
    какие страницы, и <strong>в каком порядке</strong> могут видеть ваши пользователи.
</p>

<p class="argument_header">
    <span class="argument_header_begin">А вторая причина</span> &mdash; это сама суть JSP-страницы.
</p>

<p>
    Не забывайте, что на любой JSP можно использовать 4 вида скриплетов.
    По другому (человеческими словами) это можно сказать так:
</p>

<div class="note_box danger_box">
    <p>
        В любой JSP-странице можно писать Java-код!
    </p>
</div>

<p>А что такое Java-код? Правильно &mdash; это бизнес-процессы вашего приложения! Это:</p>

<ul>
    <li>Авторизация в приложении</li>
    <li>Чтение и отображения секретных данных для конкретного пользователя</li>
    <li>Манипуляции с финансовыми средствами пользователей</li>
</ul>

<p>И многие-многие другие, о-о-о-о-чень секретные и ответственные мероприятия!</p>

<p>
    Следовательно, если приложение предполагает, например, что манипуляции с финансовыми средствами пользователей
    возможны только после успешной аутентификации этих пользователей в системе,
    и для этого приложение предлагает вначале посетить страницу по адресу:
</p>

<div class="note_box">
    <p>
        <a href="#">http://localhost:8080/web-app/login.jsp</a>
    </p>
</div>

<p>А пользователь, вместо этого сразу вводит URL типа:</p>

<div class="note_box">
    <p>
        <a href="#">http://localhost:8080/web-app/manipulate-with-my-money.jsp</a>
    </p>
</div>

<p>
    тем самым, как бы намекая вам и вашему приложению, что все ваши предложения он вертел на морском буйке,
    то, согласитесь, &mdash; это не очень защищенное приложение
    <img alt="regular_smile" src="/assets/img/smiles/regular_smile.png">
</p>

<p>
    Да, здесь можно возражать, что сама страница <code>manipulate-with-my-money.jsp</code> должна быть написана качественно,
    и не позволять пользователю проводить никаких финансовых манипуляций, пока он не войдет в систему.
    И, конечно, JSP будет написана именно так.
</p>

<p>
    Ведь это Java-проект, а они всегда написаны качественно!
</p>

<p>
    Но именно в тот момент, когда мы употребляем слово <q>качество</q>, мы думаем &mdash;
    <q>А почему бы к хорошо написанным JSP-страницам не добавить еще одну степень защиты?</q>
    А именно:
</p>

<div class="note_box success_box">
    <p>
        Cпрятать эти страницы от глаз и рук пользователей?
    </p>
</div>

<p>
    Это как в жизни &mdash; даже если вы живете в богатом доме, который очень хорошо охраняется,
    даже если в сейфе вашего дома всегда в полной готовности дежурит заряженный карабин,
    а по двору вальяжно прогуливается пара питбулей, в любой момент, готовых прийти вам на помощь и встать на вашу защиту....
</p>

<p>
    Так вот, даже если у вас есть все это, и не только это...
    То все равно, когда вы приходите к себе домой, вы закрываете за собой калитку, а потом &mdash; и входную дверь на ключ закрываете.
    Просто потому, что лучше, когда карабин так и остается лежать в сейфе, пусть и заряженный
    <img alt="regular_smile" src="/assets/img/smiles/regular_smile.png">
</p>

<p>
    Итак, переходим к выводам.
    В некоторых задачах по JSP есть специальное требование, по которому вы должны положить JSP-страницы в клиентскую часть.
    Это сделано для того, чтобы вы просто потренировались и увидели &mdash; <q>да, так можно делать</q>.
    Во всех остальных случаях мы используем простое правило:
</p>

<div class="note_box success_box">
    <p>
        Все JSP страницы должны располагаться в серверной части приложения!
    </p>
</div>

<p>
    То есть &mdash; в каталоге <code>WEB-INF</code>.
    Тогда правильная структура нашего приложения будет вот такой:
</p>

<img alt="jsp_in_server_part" src="images/jsp_in_server_part.png" class="article_image" />

<p>
    Тут же, глядя на этот рисунок, отметьте для себя, что в клиентской части мы все таки оставили одну страницу &mdash; <code>index.jsp</code>.
    Но, как вы знаете, это &mdash; индексная страница.
</p>

<p>
    Более того, вы знаете, что индексная страница:
</p>

<ul>
    <li>Может быть как JSP, так и HTML-файлом</li>
    <li>Не имеет логики</li>
    <li>Не имеет даже пользовательского интерфейса</li>
    <li>Все что она делает &mdash; это <code>forward</code> на одну из страниц (или сервлетов) вашей серверной части</li>
</ul>

<p>
    Следовательно, в отношении индексной страницы, ничего не изменилось &mdash; она по прежнему может
    (<strong>и должна!</strong>) располагаться в клиентской части приложения.
</p>

<p>
    Ну а больше по этому вопросу мне вам и нечего сказать...
    Разве что, позвольте дать вам еще один совет.
    Пожалуйста, будьте осторожны с этой ошибкой.
    Выше вы видели фразу &mdash; <q>правильная структура приложения...</q>.
    Так вот, этой фразой я вам лгу, и намеренно провоцирую вас на следующую ошибку.
</p>

<p>
    Подумайте, как не попасться на эту ложь.
    А значит, подумайте &mdash; какой же должна быть <q>правильная структура</q> вашего приложения?
    <img alt="wink_smile" src="/assets/img/smiles/wink_smile.png">
</p>
