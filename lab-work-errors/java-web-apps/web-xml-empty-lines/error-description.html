---
layout: lab-work-error

title: Отсутствуют пробельные строки в файле <code>web.xml</code>

errorCategoryCode: java-web-apps
errorCode: web-xml-empty-lines

isMultiContent: false
---

<p>
    Итак, вы стартуете Eclipse, и создаете новый Dynamic Web Project.
    В процессе создания проекта, вы указываете, что вам нужно сгенерировать файл web.xml, 
    то есть выбираете checkbox <b>Generate web.xml deployment descriptor</b>:
</p>

<img class="article_image" alt="01" src="images/01.png" />

<p>
    В результате файл web.xml создается в вашем проекте, и изначально выглядит вот так:
</p>

<img class="article_image" alt="02" src="images/02.png" />

<p>
    Посмотрите на содержимое этого файла. Что вы видите?
</p>

<p>
    Вы можете сказать, что ничего не видите, или же, что видите XML-контент на 12 строк, или даже то, что видите
</p>

<div class="note_box success_box">
    <p>
        Содержимое по умолчанию, которое генерирует для Вас IDE Eclipse,
        когда вы создаете описатель развертывания web.xml для Web-приложения на платформе Java!
    </p>
</div>

<p>
    И это высказывание будет наиболее точным.
    И оно даже будет больше всего соответствовать стилю, который используется русскоязычными издательствами
    при переводе иностранных книг по программированию (<q>описатель развертывания</q>, блин
    <img alt="regular_smile" src="/assets/img/smiles/regular_smile.png" />).
</p>

<p>
    Но есть одна проблема... Все эти высказывания (даже последнее, самое точное) - <q>ложь!</q>
</p>

<p>
    <q>А в чем же ложь?</q> - спросите вы, или лучше даже спросить - <q>Так в чем же тогда правда?</q>
</p>

<p>
    О-о-о, правда Вас не порадует. Ибо это страшная правда!
    Перед тем, как открыть ее, и перед тем как принять ее, и, главное - перед тем как начать бороться с ней,
    давайте еще раз взглянем на то, что нам сгенерировал Eclipse:
</p>

<img class="article_image" alt="02" src="images/02.png" />

<p>
    Так что же вы все-таки видите? Суровая реальность заключается в том, что в вышеприведенном снимке текста
    вы не можете видеть XML-документ, или содержимое по умолчанию для файла web.xml.
</p>

<p>
    Ибо все, что представлено в этом куске текста, есть лишь
</p>

<div class="note_box danger_box">
    <p>
        Хаос и безобразие!
    </p>
</div>

<p>
    Все это, не более чем
</p>

<div class="note_box danger_box">
    <p>
        Бездумное нагромождение тэгов, атрибутов, namespace-ов, угловых скобок, и прочей текстовой анархии, от которой рябит в глазах!
    </p>
</div>

<p>
    И перефразировав величайшего Шелдона Купера, с горечью приходится признавать, что
</p>

<div class="note_box warning_box">
    <p>
        <q>
            В этом болоте нессиметричных тэгов, нам никогда не отыскать жабу истины!
        </q>
    </p>
</div>

<p>
    <q>Вы заявляете, что видите здесь XML-документ?</q>
    Я без всякого стеснения делаю многократное ХА-ХА-ХА прямо вам в лицо! Как?! Как можно видеть XML в этом сгустке?
</p>

<p>
    Так это еще спасибо Eclips-у - он как мог старался для нас здесь подкрасить все по-всякому!
    А давайте-ка взглянем, как нам отобразит этот же текст Windows Notepad, который, как известно,
    не приучен церемониться с глазами людей, смотрящими в него:
</p>

<img class="article_image" alt="03" src="images/03.png" />

<p>
    Ну и где здесь теперь XML-документ? Так... Черно-белая анархия - не более того...
</p>

<p>
    <b>Вы говорите, что текста этого всего 12 строк, и можно-таки поднапрячься и все понять?</b>
    И я снова без страха делаю вам ХА-ХА-ХА! (Блин, что-то я сегодня бесстрашен :))
</p>

<p>
    ОК, всего 12 строк... Но таким Ваш web.xml никогда не будет!
    Вы создавали его для того, чтобы сконфигурировать в нем что-то вашему приложению очень нужное!
    Поэтому, чтобы опровергнуть Ваше заявление, я попрошу добавить в Ваше приложение всего-то:
</p>

<ul>
    <li>Тайм-аут для сессии, равный десяти минутам</li>
    <li>Один параметр контекста. (Ну, скажем, для какого-нибудь файла конфигурации, а, на самом деле, неважно для чего, так как нам просто важен объем)</li>
    <li>И сконфигурировать один сервлет</li>
</ul>

<p>
    Всего-то! Но что же мы теперь видим?
</p>

<img class="article_image" alt="04" src="images/04.png" />

<p>
    Естественно, для усиления эффекта мы снова призываем на помощь Windows Notepad:
</p>

<img class="article_image" alt="05" src="images/05.png" />

<p>
    И, вуаля! Мы все-таки получаем совершенно нечитабельный, и абсолютно непонимабельный набор символов.
</p>

<p>
    И вы все-равно можете говорить
</p>

<div class="note_box warning_box">
    <p>
        <q>
            Ямшик не гони, ты гонишь, ямшик! XML-конфиг приложения здесь виден, как на ладони!
        </q>
    </p>
</div>

<p>
    И я все-равно буду отвечать вам классическое
</p>

<div class="note_box warning_box">
    <p>
        <q>
            Поднимите мне веки!
        </q>
    </p>
</div>

<p>
    И этот спор не закончится никогда :).
    <i>
        (Кстати, вы замечали, что, как правило, самые жаркие и бесконечные споры разворачиваются именно вокруг вопросов, которые яйца выеденного не стоят.
        Наш текущий вопрос - яркое тому подтверждение :))
    </i>
</p>

<p>
    Ну что же... можно долго описывать проблему (о-о-о-чень долго, кричите вы читая здесь)...
    Можно долго спорить о проблеме... Можно долго сожалеть о случившемся...
</p>

<p>
    Но, так или иначе, должен наступить момент, когда проблему нужно начинать решать. Давайте же займемся
</p>

<div class="note_box success_box">
    <p>
        подниманием век!
    </p>
</div>

<p>
    Итак, вы говорите, что вот здесь вы видите XML-документ?
</p>

<img class="article_image" alt="04" src="images/04.png" />

<p>
    Так покажите мне его! Покажите мне его явно! Покажите его вот так:
</p>

<img class="article_image" alt="06" src="images/06.png" />

<p>
    Вы же понимаете, что произошло, верно?
    Из-за обилия квадратов, стрелок и прочей рисованной мишуры, может быть не так явно видно, но для того,
    чтобы Ваши коллеги увидели, что вы собираетесь создавать XML-документ, нужно всего-то
</p>

<div class="note_box success_box">
    <p>
        Оставить одну пробельную строку после заголовка XML-документа!
    </p>
</div>

<p>
    На рисунке выше строка 2 как раз является пробельной (или другими словами - пустой).
    И в этой ситуации, мозг читающего будет действовать так:
</p>

<ul>
    <li>Он прочитает заголовок.</li>
    <li>Он поймет, что перед ним XML-документ.</li>
    <li>
        И если это все, что он хочет знать в данный момент, то следующая пустая строка даст неявную команду глазам -
        <q>Стоп! Дальше нам пока не интересно!</q>
    </li>
</ul>

<p>
    Ну что же, действуя таким образом, мы можем показать своим коллегам,
    что в текущем XML-документе мы собираемся
    <b>конфигурировать Web-приложение</b>:
</p>

<img class="article_image" alt="07" src="images/07.png" />

<p>
    ...И что оно будет называться <b>MyWebApp</b>:
</p>

<img class="article_image" alt="08" src="images/08.png" />

<p>
    ...И что у этого приложения есть <b>индексные страницы</b>:
</p>

<img class="article_image" alt="09" src="images/09.png" />

<p>
    И тут кстати, глядя на секцию <b>welcome-file-list</b>, можно спокойно задуматься -
    <q>А чего это страниц так много? По идее, должно одной хватить?...</q>
</p>

<p>
    Чувствуете? Красота структурированного XML-документа начинает приносить первые плоды -
    мы можем не просто всматриваться в простыню слипнувшихся строк,
    а осмысленно смотреть на отдельные секции конфигурации и думать, насколько эти секции верны.
</p>

<p>
    Но что касается множества индексных страниц - это немного <a href="multipleIndexFileXml.html">другая история</a>.
</p>

<p>
    Мы же вернемся к нашему web.xml файлу, и приведем его наконец-то в подобающий вид:
</p>

<img class="article_image" alt="10" src="images/10.png" />
